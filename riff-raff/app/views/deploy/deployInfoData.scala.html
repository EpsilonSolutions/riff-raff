@(request: controllers.AuthenticatedRequest[AnyContent])
@import _root_.resources.LookupSelector

@main("Deployment Resources", request, List("deployinfo-app-tabs", "relative-time")) {

<h2>Deployment Resources</h2>

@defining(LookupSelector()) { lookup =>
@snippets.lookupDateBox(lookup)

@if(lookup.data.keys.isEmpty) {
  <div class="alert">No data available in lookup service</div>
} else {
@snippets.tabbable(lookup.data.keys, pushParam = "key"){ key =>
    <table class="table table-striped">
    <thead><tr>
        <th>App</th>
        <th>Stage</th>
        <th>Value</th>
        <th>Comment</th>
    </tr></thead>
    <tbody>
        @lookup.data.get(key).map { data =>
            <tr>
                <td>@data.app.toString</td>
                <td>@data.stage.toString</td>
                <td>@data.value</td>
                <td>@data.comment</td>
            </tr>
        }
    </tbody>
    </table>
}
}
}
}