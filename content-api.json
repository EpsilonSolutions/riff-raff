{
  "packages": {
    "index-builder": { "type": "jetty-webapp", "roles": [ "index-builder" ], "data": [ "jetty-app-dir": "index-build" ] },
    "api": { "type": "jetty-webapp", "apps": [ "api" ] },
    "solr": { "type": "jetty-webapp", "apps": [ "solr" ] }
  }
  "recipes": [
    "all": { 
      "default": true,
      "depends":[ [ "index-build-only", "api-only" ], "rebuild-full-index"]
    },
    "index-build-only": { 
      "actions": [
        "index-builder.block",
        "index-builder.install",
        "index-builder.restart",
        "index-builder.unblock",
      ]
    },
    "api-only": { 
      "actions": [
        [ "api.block", "solr.block" ],
        [ "api.install", "solr.install" ],
        [ "api.restart", "solr.restart" ],
        [ "api.unblock", "solr.unblock" ]
      ]
    }


  ]
}

